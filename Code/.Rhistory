library("dplyr")
library("tidyr")
library("stringr")
# Daten einlesen
titanic <- read.csv("titanic.csv")
titanic_aufbereitet <- titanic %>%
# Extrahiere Titel aus der Namensspalte
mutate(Title = str_extract(titanic$Name, "\\w+(?=\\.)")) %>%
# Transformiere  Survived, Sex und Embarked in factor
mutate(across(c("Survived", "Sex", "Embarked"), as.factor)) %>%
# Transformiere  Pclass in ordered factor
mutate(Pclass = factor(Pclass, ordered = TRUE)) %>%
# Imputiere fehlende Alterswerte (Age) mit Gruppenmittelwert
group_by(Title) %>%
mutate(Age = ifelse(is.na(Age), mean(Age, na.rm = TRUE), Age)) %>%
ungroup () %>%
# Extrahiere und erstelle Deck-Variable
mutate(Deck = str_extract(Cabin, "[A-Za-z](?=[0-9])")) %>%
mutate(Room = gsub(" ", "",gsub("[[:alpha:]]", "", Cabin))) %>% # Hilfsvariable Room
# Extrahiere und erstelle Room-Spalten
separate(Room, into = (c("Room_1", "Room_2", "Room_3", "Room_4")), sep = " ") %>%
mutate(across(c("Room_1", "Room_2", "Room_3", "Room_4"), as.numeric)) %>%
# Bestimmme Seite laut Zimmernummer
mutate(across(c("Room_1", "Room_2", "Room_3", "Room_4"),
function(Room)
ifelse(Room  %% 2 == 1, "Starboard", "Port"))) %>%
# Waehle vorgegebene Spalten aus
select(!c("PassengerId", "Name", "Ticket", "Cabin"))
View(titanic_aufbereitet)
## Grafik 1 - Verteilung Geschlecht
titanic_aufbereitet$Sex
## Grafik 1 - Verteilung Geschlecht
plot(titanic_aufbereitet$Sex)
## Grafik 1 - Verteilung Geschlecht
hist(titanic_aufbereitet$Sex)
## Grafik 1 - Verteilung Geschlecht
titanic_aufbereitet$Sex
## Grafik 1 - Verteilung Geschlecht
table(titanic_aufbereitet$Sex)
## Grafik 1 - Verteilung Geschlecht
plot(table(titanic_aufbereitet$Sex))
## Grafik 1 - Verteilung Geschlecht
hist(table(titanic_aufbereitet$Sex))
## Grafik 1 - Verteilung Geschlecht
plot(table(titanic_aufbereitet$Sex))
## Grafik 2 - Verteilung Embarked
plot(table(titanic_aufbereitet$Embarked)) ### noch schöner machen
View(titanic_aufbereitet)
## Grafik 3 - Verteilung pClass
plot(table(titanic_aufbereitet$Pclass)) ### noch schöner machen
## Grafik 4 - Verteilung survived
plot(table(titanic_aufbereitet$Survived)) ### noch schöner machen
